<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

<script>

//1) Programa una función que cuente el número de caracteres de una cadena de texto, pe. miFuncion("Hola Mundo") devolverá 10.

function ej1Declarada(str=""){
    if(!str){
        console.warn("No ingresaste ninguna cadena")
    }
    else{
        console.info(`${str} tiene ${str.length} caracteres`)
    }

    }
ej1Declarada();
ej1Declarada("Hola Mundo");

console.log("-------------------------------------------------------")

//2) Programa una función que te devuelva el texto recortado según el número de caracteres indicados, pe. miFuncion("Hola Mundo", 4) devolverá "Hola".

const ej1Expresada=(str="")=>
 (!str)
    ? console.warn("No ingresaste ninguna cadena") 
    : console.info(`${str} tiene ${str.length} caracteres`);

ej1Expresada();
ej1Expresada("Hola Mundo");

console.log("-------------------------------------------------------")

const ej2=(str="",num=undefined)=>
   (!str) 
    ? console.warn("No igresaste una cadena de texto")
    :(num===undefined)
     ? console.warn("No ingresaste ningun numero para cortar la cadena de texo")
     : console.info(str.slice(0, num));

 ej2();
 ej2("Estetoscopio");
 ej2("Estetoscopio", 4);

 console.log("-------------------------------------------------------")

//3) Programa una función que dada una String te devuelva un Array de textos separados por cierto caracter, pe. miFuncion('hola que tal', ' ') devolverá ['hola', 'que', 'tal'].

const ej3=(str="",separador=undefined)=>
 (!str)
  ? console.warn("No ingresaste ninguna cadena de texto")
  : (separador===undefined)
   ? console.warn("No ingresaste nigun separador")
   : console.info(str.split(separador));
ej3("Hola que tal como te va", " ")

console.log("-------------------------------------------------------")

//4) Programa una función que repita un texto X veces, pe. miFuncion('Hola Mundo', 3) devolverá Hola Mundo Hola Mundo Hola Mundo.-->

const ej4=(str="", cantidad=undefined)=>{
    if(!str) return console.warn("Escribi algo")
    if(cantidad===undefined) return console.warn("Escribi una cantidad")
    if(cantidad===0) return console.error("No pongas el numero 0")
    if(Math.sign(cantidad)===-1) return console.error("No pongas numeros negativos")  
    for(let i =1; i<=cantidad;i++){
        console.info(`${str}, ${i}`)
    }
}
ej4("Hola", 4)

//5) Programa una función que invierta las palabras de una cadena de texto, pe. miFuncion("Hola Mundo") devolverá "odnuM aloH".

const ej5=(str="")=>
 (!str)
  ? console.warn("Ingresa una cadena de texto")
  : console.info(str.split("").reverse().join(""));
ej5("Hola Mundo");

//6) Programa una función para contar el número de veces que se repite una palabra en un texto largo, pe. miFuncion("hola mundo adios mundo", "mundo") devolverá 2.

const ej6=(str="",palabra="")=>{
    if (!str) return console.warn("No escribiste un texto");
    if (!palabra) return console.log("No escribiste la palabra a buscar");

    let i=0
    let contador=0

    while(i!==-1){
        i=str.indexOf(palabra,i)
        if(i!==-1){
         i++
         contador++;
        }
    }
    return console.info(`la palabra ${palabra} se repite ${contador} veces`);
}
ej6("hola mundo hola vida hola a todos","hola")


console.log("-------------------------------------------------------")

//7) Programa una función que valide si una palabra o frase dada, es un palíndromo (que se lee igual en un sentido que en otro), pe. mifuncion("Salas") devolverá true.

const ej7=(str="")=>{
    if (!str) return console.warn("No escribiste un texto"); 
    str=str.toLowerCase();
    let alReves= str.split("").reverse().join("");
    return (str===alReves)
     ? console.info(`${str} SI es una palabra Palindroma`)
     : console.info(`${str} NO es una palabra Palindroma`); 
}
ej7("Hola");
ej7("Salas");

console.log("-------------------------------------------------------")
//8) Programa una función que elimine cierto patrón de caracteres de un texto dado, pe. miFuncion("xyz1, xyz2, xyz3, xyz4 y xyz5", "xyz") devolverá  "1, 2, 3, 4 y 5.

const ej8 = (str="", patron="")=>
 (!str) 
  ? console.warn("No escribiste un texto")
  :(!patron)
   ? console.warn("No escribiste el patron")
   : console.info(str.replace(new RegExp(patron, "ig"), ""));
ej8("xyz1, xyz2, xyz3, xyz4 y xyz5", "xyz");   
    

console.log("-------------------------------------------------------")
//9) Programa una función que obtenga un numero aleatorio entre 501 y 600.

const ej9=()=>console.info(Math.round(Math.random()*100 + 500));
ej9();

console.log("-------------------------------------------------------")
//10) Programa una función que reciba un número y evalúe si es capicúa o no (que se lee igual en un sentido que en otro), pe. miFuncion(2002) devolverá true.

const ej10=(num=0)=>{
    if (!num) return console.warn("No escribiste un numero")
    if (typeof num !== "number") return console.error("Solo escribe numeros")
    num = num.toString();
    let alReves= num.split("").reverse().join("");
    return (num===alReves)
     ? console.info(`${num} Si es un numero Capicua`)
     : console.info(`${num} No es un numero capicua al reves seria ${alReves}`)
}
ej10(212.212);
console.log("-------------------------------------------------------")

//11) Programa una función que calcule el factorial de un número (El factorial de un entero positivo n, se define como el producto de todos los números enteros positivos desde 1 hasta n), pe. miFuncion(5) devolverá 120

const ej11=(num=undefined)=>{
    if(num===undefined) return console.warn("No escribiste un numero");
    if(typeof num !== "number") return console.error(`${num} no es un numero`)
    if(Math.sign() === -1) return console.error(`No puedes utilizar numeros negativos`)
    if(num===0) return console.error(`No puedes utilizar 0`)
    let factorial=1;
    for(i=num; i>1; i--){
        factorial*=i;
    }
    return console.info(`El factorial de ${num} es ${factorial}`);
}
ej11(5);

console.log("-------------------------------------------------------")

//12) Programa una función que determine si un número es primo (aquel que solo es divisible por sí mismo y 1) o no, pe. miFuncion(7) devolverá true.

const ej12=(num=undefined)=>{
    if(num===undefined) return console.warn("No escribiste un numero");
    if(typeof num !== "number") return console.error(`${num} no es un numero`)
    if(Math.sign() === -1) return console.error(`No puedes utilizar numeros negativos`)
    if(num===0) return console.error(`No puedes utilizar 0`)
    if(num===1) return console.error(`No puedes utilizar 1`)
    let divisible=false;
    for(i=2; i<num; i++){
        if((num%i)===0){
            divisible=true;
            break;
        }
    }
    return (divisible)
     ? console.info(`${num} NO es un numero Primo`)
     : console.info(`${num} SI es un numero Primo`)
}
ej12(7);

console.log("-------------------------------------------------------")

//13) Programa una función que determine si un número es par o impar, pe. miFuncion(29) devolverá Impar.

const ej13=(num=undefined)=>{
 if(num===undefined) return console.warn("No escribiste un numero")
 if(typeof num !== "number") return console.error("Solo son aceptados los numeros")

 return((num%2)===0)
  ? console.info(`${num} es Par`)
  : console.info(`${num} es Impar`)
} 
ej13(12);

console.log("-------------------------------------------------------")

//14) Programa una función para convertir grados Celsius a Fahrenheit y viceversa, pe. miFuncion(0,"C") devolverá 32°F.

const ej14=(grados=undefined, unidad=undefined)=>{
    if(grados===undefined) return console.warn("Por favor por pon los grados");
    if(unidad===undefined) return console.warn("Por favor pon la unidad");
    if(typeof unidad !== "string") return console.warn("Por favor ingresa una cadena de texto");
    if(typeof grados !== "number") return console.warn("Por favor ingrese un numero");
    if(unidad.length !==1 || !/(C|F)/.test(unidad)) return console.error("Dato invalido");
    if(unidad==="C") return console.info(`${grados}C es = a ${Math.round((grados*9/5)+32)}F`)
    if(unidad==="F") return console.info(`${grados}F es = a ${Math.round((grados-32)*5/9)}C`)
}
ej14(100, "F")

console.log("-------------------------------------------------------")


//16) Programa una función que devuelva el monto final después de aplicar un descuento a una cantidad dada, pe. miFuncion(1000, 20) devolverá 800.

const ej16=(monto=undefined, descuento=0)=>{
    if(monto===undefined) return console.warn("Por favor ingrese un monto");
    if(typeof monto !== "number") return console.warn("Por favor ingrese solo numeros");
    if(monto===0) return console.error("no puedes poner 0");
    if(Math.sign(monto)===-1) return console.error("Por favor ingrese numeros positivos");
    if(typeof descuento !== "number") return console.warn("Por favor ingrese solo numeros");
    if(Math.sign(descuento)===-1) return console.error("Por favor ingrese numeros positivos");

    return console.info(`${monto} - ${descuento}% = ${monto - ((monto*descuento)/100)}`)
}
ej16(100,10)
console.log("-------------------------------------------------------")

//17) Programa una función que dada una fecha válida determine cuantos años han pasado hasta el día de hoy, pe. miFuncion(new Date(1984,4,23)) devolverá 35 años (en 2020).

const ej17=(fecha=undefined)=>{

   if(fecha === undefined) return console.info("Ingresa una fecha");
   if(!(fecha instanceof Date)) return console.info("El valor ingresado no es una fecha valida");

   let hoyMenosFecha=new Date().getTime()-fecha.getTime();
   let aniosEnMilisegundos= 1000*60*60*24*365;
   let aniosHumanos=Math.floor(hoyMenosFecha/aniosEnMilisegundos);

   return (Math.sign(aniosHumanos) === -1)
    ? console.info(`faltan ${Math.abs(aniosHumanos)} anios para el ${fecha.getFullYear()}.`)
    : (Math.sign(aniosHumanos) === 1)
     ? console.info(`Han pasado ${aniosHumanos} anios, desde ${fecha.getFullYear()}.`)
     : console.info(`estamos en el anio actual ${fecha.getFullYear()}`);
}
ej17();
ej17({});
ej17(false);
ej17(new Date(1997,5,10));

console.log("-------------------------------------------------------")

//18) Programa una función que dada una cadena de texto cuente el número de vocales y consonantes, pe. miFuncion("Hola Mundo") devuelva Vocales: 4, Consonantes: 5.

const ej18=(str="")=>{
    if(!str) return console.warn("Por favor ingresa una cadena")
    if(typeof str !== "string") return console.error("Por favor ingrese solo texto")

    let vocales=0;
    let consonantes=0;

    for(letra of str){
        if(/[AEIOUaeiou]/.test(letra)){
            vocales++;
        }
        if(!/[AEIOUaeiou ]/.test(letra)){
            consonantes++;
        }
    }
    return console.info(`Hay ${vocales} vocales y ${consonantes} consonantes`);
}

ej18("Hola Mundo")


console.log("-------------------------------------------------------")

//19) Programa una función que valide que un texto sea un nombre válido, pe. miFuncion("Jonathan MirCha") devolverá verdadero.

const ej19=(nombre="")=>{
    if(!nombre) return console.warn("Por favor ingresa una cadena");
    if(typeof nombre !== "string") return console.error("Por favor ingrese solo texto");
    //el simbolo "^" sirve para indicar que no puede haber nada antes de la expresion y el simbolo "$" indica que no puede haber nada despues, los "[]" son agrupadores y el "+" es para evaluar cada caracter que tiene la cadena de texto.
    let expReg=/^[A-Za-z\s]+$/g.test(nombre)

    return (expReg)
     ? console.info(`${nombre} es Valido`)
     : console.warn(`${nombre} NO es Valido`)
}
ej19("Marco Cairus")

console.log("-------------------------------------------------------")

//20) Programa una función que valide que un texto sea un email válido, pe. miFuncion("jonmircha@gmail.com") devolverá verdadero.

const ej20=(email="")=>{
    if(!email) return console.warn("Por favor ingresa una cadena");
    if(typeof email !== "string") return console.error("Por favor ingrese solo texto");

    let expReg=/[a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,15})/i.test(email);

    return (expReg)
     ? console.info(`${email} es Valido`)
     : console.warn(`${email} NO es Valido`)
}
ej20("marcairus97@gmail.com")

console.log("-------------------------------------------------------")

//21) Programa una función que dado un array numérico devuelve otro array con los números elevados al cuadrado, pe. mi_funcion([1, 4, 5]) devolverá [1, 16, 25].

const ej21=(array=undefined)=>{
    if(array === undefined) return console.warn("Por favor ingresa un arreglo de numeros");
    if(!(array instanceof Array)) return console.error("El valor ingresado no es un arreglo");
    if(array.length===0) return console.error("No dejes el arreglo vacio");

    for(let num of array){
        if(typeof num !== "number") return console.error("Solo ingresa numeros dentro de el arreglo");
    }

    const newArray=array.map(element=> element * element);

    return console.info(`el array ${array} elevado al cuadrado queda asi ${newArray}`);
}
ej21([2,3,4]);

console.log("-------------------------------------------------------")

//22) Programa una función que dado un array devuelva el número mas alto y el más bajo de dicho array, pe. miFuncion([1, 4, 5, 99, -60]) devolverá [99, -60].

const ej22=(array=undefined)=>{
    if(array === undefined) return console.warn("Por favor ingresa un arreglo de numeros");
    if(!(array instanceof Array)) return console.error("El valor ingresado no es un arreglo");
    if(array.length===0) return console.error("No dejes el arreglo vacio");

    for(let num of array){
        if(typeof num !== "number") return console.error(`el valor ${num} NO es un numero`);
    }
    return console.info(`arreglo original: ${array}\nValor mayor: ${Math.max(...array)} \nValor menor ${Math.min(...array)}`)
}
ej22([2,4,6])

console.log("-------------------------------------------------------")

//23) Programa una función que dado un array de números devuelva un objeto con 2 arreglos en el primero almacena los números pares y en el segundo los impares, pe. miFuncion([1,2,3,4,5,6,7,8,9,0]) devolverá {pares: [2,4,6,8,0], impares: [1,3,5,7,9]}.

const ej23=(array=undefined)=>{
    if(array === undefined) return console.warn("Por favor ingresa un arreglo de numeros");
    if(!(array instanceof Array)) return console.error("El valor ingresado no es un arreglo");
    if(array.length===0) return console.error("No dejes el arreglo vacio");

    for(let num of array){
        if(typeof num !== "number") return console.error(`el valor ${num} NO es un numero`);
    }

    return console.info({
        pares: array.filter(num=>num%2===0),
        impares: array.filter(num=>num%2===1)
    })
}
ej23([1,2,3,4,5,6])

console.log("-------------------------------------------------------")

//24) Programa una función que dado un arreglo de números devuelva un objeto con dos arreglos, el primero tendrá los numeros ordenados en forma ascendente y el segundo de forma descendiente, pe. miFuncion([7, 5,7,8,6]) devolverá { asc: [5,6,7,7,8], desc: [8,7,7,6,5] }.

const ej24=(array=undefined)=>{
    if(array === undefined) return console.warn("Por favor ingresa un arreglo de numeros");
    if(!(array instanceof Array)) return console.error("El valor ingresado no es un arreglo");
    if(array.length===0) return console.error("No dejes el arreglo vacio");
   

    for(let num of array){
        if(typeof num !== "number") return console.error(`el valor ${num} NO es un numero`);
    }
    return console.info({
        array,
        asc:array.map(element=>element).sort(),
        desc:array.map(element=>element).sort().reverse()
    })
}
ej24([1,2,3,4,5])
console.log("-------------------------------------------------------")

//25) Programa una función que dado un arreglo de elementos, elimine los duplicados, pe. miFuncion(["x", 10, "x", 2, "10", 10, true, true]) devolverá ["x", 10, 2, "10", true].

const ej25=(array=undefined)=>{
    if(array === undefined) return console.warn("Por favor ingresa un arreglo de numeros");
    if(!(array instanceof Array)) return console.error("El valor ingresado no es un arreglo");
    if(array.length===0) return console.error("No dejes el arreglo vacio");
    if(array.length===1) return console.error("No dejes el arreglo con solo un elemento");
    for(let num of array){
        if(typeof num !== "number") return console.error(`el valor ${num} NO es un numero`);
    }
  
    return console.info({
        original:array,
        sinDuplicados: array.filter((value,index,array)=>array.indexOf(value)===index)
    })
}
ej25([1,2,3,2,1,5,6])
console.log("-------------------------------------------------------")

//26) Programa una función que dado un arreglo de números obtenga el promedio, pe. promedio([9,8,7,6,5,4,3,2,1,0]) devolverá 4.5.

const ej26=(array=undefined)=>{
    if(array === undefined) return console.warn("Por favor ingresa un arreglo de numeros");
    if(!(array instanceof Array)) return console.error("El valor ingresado no es un arreglo");
    if(array.length===0) return console.error("No dejes el arreglo vacio");
    for(let num of array){
        if(typeof num !== "number") return console.error(`el valor ${num} NO es un numero`);
    }
    return console.info(array.reduce((total,num,index,array)=>{
        total+=num;
        if(index === array.length-1) {
            return `el promedio de ${array.join()} es ${total/array.length}`
        }
        else{
            return total;
        }
    }))
}
ej26([9,8,7,6,5,4,3,2,1,0]);

console.log("-------------------------------------------------------")

/*27) Programa una clase llamada Pelicula.

La clase recibirá un objeto al momento de instanciarse con los siguentes datos: id de la película en IMDB, titulo, director, año de estreno, país o países de origen, géneros y calificación en IMBD.
  - Todos los datos del objeto son obligatorios.
  - Valida que el id IMDB tenga 9 caracteres, los primeros 2 sean letras y los 
     7 restantes números.
  - Valida que el título no rebase los 100 caracteres.
  - Valida que el director no rebase los 50 caracteres.
  - Valida que el año de estreno sea un número entero de 4 dígitos.
  - Valida que el país o paises sea introducidos en forma de arreglo.
  - Valida que los géneros sean introducidos en forma de arreglo.
  - Valida que los géneros introducidos esten dentro de los géneros 
     aceptados*.
  - Crea un método estático que devuelva los géneros aceptados*.
  - Valida que la calificación sea un número entre 0 y 10 pudiendo ser 
    decimal de una posición.
  - Crea un método que devuelva toda la ficha técnica de la película.
  - Apartir de un arreglo con la información de 3 películas genera 3 
    instancias de la clase de forma automatizada e imprime la ficha técnica 
    de cada película. 

    * Géneros Aceptados: Action, Adult, Adventure, Animation, Biography, Comedy, Crime, Documentary ,Drama, Family, Fantasy, Film Noir, Game-Show, History, Horror, Musical, Music, Mystery, News, Reality-TV, Romance, Sci-Fi, Short, Sport, Talk-Show, Thriller, War, Western.*/

    class Pelicula{
            constructor({id, titulo, director, estreno, pais, generos, calificacion}){
                this.id=id;
                this.titulo=titulo;
                this.director=director;
                this.estreno=estreno;
                this.pais=pais;
                this.generos=generos;
                this.calificacion=calificacion;

                this.validarIMDB(id);
                this.validarTitulo(titulo);
                this.validarDirector(director);
                this.validarEstreno(estreno);
                this.validarPais(pais);
                this.validarGeneros(generos);
                this.validarCalificacion(calificacion);
            }

            static get listaGeneros(){
                return ["Action", "Adult", "Adventure", "Animation", "Biography", "Comedy", "Crime", "Documentary" ,"Drama", "Family", "Fantasy", "Film Noir", "Game-Show", "History", "Horror", "Musical", "Music", "Mystery", "News", "Reality-TV", "Romance", "Sci-Fi", "Short", "Sport", "Talk-Show", "Thriller", "War", "Western"];
            } 

            static generosAceptados(){
                return console.info(`Generos aceptados: ${Pelicula.listaGeneros.join(", ")}`)
            }

            validarCadena(propiedad,valor){
                if(!valor) return console.warn(`${propiedad} ${valor} esta vacia.`);
                if(typeof valor !== "string") return console.warn(`${propiedad} ${valor} ingresado NO es un string.`);

                return true;
            }
            

            validarLongitudCadena(propiedad,valor,longitud){
                if(valor.length>longitud) return console.error(`${valor} excede el numeros de caracteres permitido`)

                return true
            }
            validarNumero(propiedad,valor){
                if(!valor) return console.warn(`${propiedad} ${valor} esta vacio`)
                if(typeof valor !== "number") return console.warn(`${propiedad} ${valor} ingresado NO es un numero`)

                return true
            }
            validarArreglo(propiedad,valor){
                if(!valor) return console.warn(`${propiedad} esta Vacio`)
                if(!(valor instanceof Array)) return console.warn(`${valor} NO es un array`)
                if(valor.length === 0) return console.warn(`La cadena ${propiedad} NO tiene datos`)
                for(let cadena of valor){
                    if(typeof cadena !=="string") return console.error(`el valor ${cadena} NO es un una cadena de texto`)
                }

                return true
            }

            validarIMDB(id){
                if(this.validarCadena("IMDB id", id)){
                        if(!(/^([a-z]){2}([0-9]){7}$/.test(id))){
                            return console.error(`${id} no es valido, debe tener 9 caracteres, los 2 primeros letras minusculas y los 7 restantes numeros`)
                        }
                }
            }

            validarTitulo(titulo){
                if(this.validarCadena("Titulo", titulo)){
                    this.validarLongitudCadena("Titulo", titulo, 100)
                }
            }
            validarDirector(director){
                if(this.validarCadena("Director", director)){
                    this.validarLongitudCadena("Director", director, 50)
                }
            }
            validarEstreno(estreno){
                if(this.validarNumero("Estreno",estreno)){
                    if(!(/^([0-9]){4}$/.test(estreno))) return console.error(`${estreno} Solo admite numero de 4 digitos enteros`)
                }
            }

            validarPais(pais){
                this.validarArreglo("Pais", pais);
            }

            validarGeneros(generos){
               if(this.validarArreglo("Generos", generos)){
                for(let genero of generos){
                    if(!(Pelicula.listaGeneros.includes(genero))){
                        console.error(`Genero incorrecto ${genero}`);
                        Pelicula.generosAceptados();
                    }
                }
               }
            }
            validarCalificacion(calificacion){
                if(this.validarNumero("Calificacion", calificacion)){
                    return (calificacion < 0 || calificacion > 10)
                    ? console.error(`${calificacion} tiene que estar comprendido entre 0 y 10`)
                    : this.calificacion = calificacion.toFixed(1);
                }
            }
            fichaTecnica(){
                console.info(`Ficha Tecinca:\nTitulo: "${this.titulo}"\nDirector "${this.director}"\nEstreno: "${this.estreno}"\nPais: "${this.pais}"\nGenero: "${this.generos}"\nCalificacion: "${this.calificacion}"\nIMDB: "${this.id}"`);
            }
            
    }
    const peli=new Pelicula({
        id:"tt1234567",
        titulo:"Rambo",
        director:"Jon salchichon",
        estreno:1994,
        pais:["Uruguay", "Argentina", "Macacolandia"],
        generos: ["Comedy", "Horror", "hola", "maincra"], 
        calificacion: 7.56
    });
    peli.fichaTecnica();
</script>
</body>
</html>